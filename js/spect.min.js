function e(){const t=[],s=[],n=()=>s.length>1?s:s[0],i=(...e)=>(e="function"==typeof e[0]?e[0](...s):e,Array.isArray(e)?e.map((e,t)=>s[t]=e):s[0]=e,t.map(e=>("function"==typeof e.cleanup&&e.cleanup(),e.next&&(e.cleanup=e.next(...s))))),l=(...e)=>!l.closed&&(e.length?i(...e):n()),o=(e,n,i)=>{const l=()=>(t.length&&t.splice(t.indexOf(o)>>>0,1),i&&i()),o={next:e=e&&e.next||e,error:n=e&&e.error||n,complete:i=e&&e.complete||i,unsubscribe:l,out:null};return t.push(o),s.length&&(o.cleanup=e(...s)),l.unsubscribe=l},r=t=>{const s=e();return l.subscribe((...e)=>s(t(...e))),s};return arguments.length&&i(...arguments),Object.assign(l,{closed:!1,valueOf:l,toString:l,[Symbol.toPrimitive]:e=>l(),subscribe:o,map:r,[Symbol.observable||(Symbol.observable=Symbol("observable"))]:()=>l,async*[Symbol.asyncIterator](){let e,t=[],s=new Promise(t=>e=t),n=l.subscribe(n=>(t.push(n),e(),s=new Promise(t=>e=t)));try{for(;;)yield*t.splice(0),await s}catch{}finally{n()}},[Symbol.dispose||(Symbol.dispose=Symbol("dispose"))]:()=>{s.length=0;const e=t.map(e=>("function"==typeof e.cleanup&&e.cleanup(),e.unsubscribe));t.length=0,e.map(e=>e()),l.closed=!0}})}let t=0;const s={},n={},i={},l={},o={},r=new WeakMap,a="undefined"!=typeof AnimationEvent,c=document.head.appendChild(document.createElement("style"));function h(e,t,s){if(e&&e.raw)return new u(null,String.raw.apply(null,arguments));if("string"==typeof e)return new u(null,e,t);if(!t||"function"==typeof t){s=t;let n=e;n||(n=[]),n.nodeType&&(n=[n]);const i=new u(null,null,s);return n.forEach(e=>i.add(e)),i}return new u(e,t,s)}class u extends Array{constructor(r,h,u){if("number"==typeof r)return Array(r);if(super(),Object.defineProperties(this,{_channel:{value:e(this)},_items:{value:new WeakMap},_delete:{value:new WeakSet},_teardown:{value:new WeakMap},_scope:{value:r},_fn:{value:u},_selector:{writable:!0},_match:{writable:!0},_animation:{writable:!0}}),!h)return;const d=Object.getPrototypeOf(this);(r||document).querySelectorAll(h).forEach(e=>{d.add.call(this,e)});const f=/(?:#([\w:-]+)|\[\s*name=['"]?([\w:-]+)['"]?\s*\]|\.([\w:-]+)|([\*\w:-]+))(\[[^\]]+\]|\.[\w:-]+)*$/;if(this._selector=h.split(/\s*,\s*/).map(e=>{const t=(e=new String(e)).match(f);if(e.filter=e,!t)return e;let[o,r,a,c,h,u]=t;return r?(s[e.id=r]=s[r]||[]).push(this):a?(l[e.name=a]=l[a]||[]).push(this):c?(n[e.class=c]=n[c]||[]).push(this):h&&(e.tag=h=h.toUpperCase(),i[h]=i[h]||[]).push(this),u?e.filter=e.slice(0,t.index)+e.slice(-u.length):t.index||delete e.filter,e}),this._match=this._selector.some(e=>e.filter),!a||!this._selector.every(e=>e.tag&&!e.filter)){let e=o[this._selector];if(!e){const{sheet:s}=c,{cssRules:n}=s;e=o[this._selector]=[],e.id="üëÅ-"+(t++).toString(36),s.insertRule(`@keyframes ${e.id}{}`,n.length),s.insertRule(`${this._selector.map(t=>t+`:not(.${e.id})`)}{animation:${e.id}}`,n.length),s.insertRule(`.${e.id}{animation:${e.id}}`,n.length),s.insertRule(`${this._selector.map(t=>t+`.${e.id}`)}{animation:unset;animation:revert}`,n.length),e.rules=[].slice.call(n,-4),e.onanim=t=>{if(t.animationName!==e.id)return;t.stopPropagation(),t.preventDefault();let{target:s}=t;s.classList.contains(e.id)?(s.classList.remove(e.id),e.forEach(e=>e.delete(s))):(s.classList.add(e.id),e.forEach(e=>Object.getPrototypeOf(e).add.call(e,s,!1)))},document.addEventListener("animationstart",e.onanim,!0)}this._animation=e.id,e.push(this)}}add(e,t=this._match){if(e&&!this._items.has(e)&&(!t||e.matches(this._selector))){if(this._scope){if(this._scope===e)return;if(this._scope.nodeType){if(!this._scope.contains(e))return}else if([].every.call(this._scope,t=>!t.contains(e)))return}this.push(e),this._items.set(e,[e.id,e.name]),e.name&&(this[e.name]=e),e.id&&(this[e.id]=e),this._delete.has(e)&&this._delete.delete(e),r.has(e)&&r.get(e).has(this)||(r.has(e)||r.set(e,new Set),r.get(e).add(this),e.classList.add("üëÅ"),this._teardown.set(e,this._fn&&this._fn(e)),this._channel(this))}}delete(e,t=!1){if(!this._items.has(e))return;this.length&&this.splice(this.indexOf(e>>>0,1),1);const[s,n]=this._items.get(e);n&&delete this[n],s&&delete this[s],this._items.delete(e),this._delete.add(e);const i=()=>{if(!this._delete.has(e))return;if(this._delete.delete(e),!r.has(e))return;const t=this._teardown.get(e);t&&(t.call?t(e):t.then&&t.then(e=>e&&e.call&&e())),this._teardown.delete(e),this._channel(this),r.get(e).delete(this),r.get(e).size||(r.delete(e),e.classList.remove("üëÅ"))};t?i():requestAnimationFrame(i)}[Symbol.observable||(Symbol.observable=Symbol("observable"))](){const e=this._channel,t=this;return{subscribe(){const s=e.subscribe(...arguments);return e.push.call(e.observers.slice(-1),t),s}}}item(e){return e<0?this[this.length+e]:this[e]}namedItem(e){return this[e]}has(e){return this._items.has(e)}[Symbol.dispose||(Symbol.dispose=Symbol("dispose"))](){const e=this;if(e._selector&&e._selector.forEach(({id:t,class:o,name:r,tag:a})=>{t&&s[t].splice(s[t].indexOf(e)>>>0,1),r&&l[r].splice(l[r].indexOf(e)>>>0,1),o&&n[o].splice(n[o].indexOf(e)>>>0,1),a&&i[a].splice(i[a].indexOf(e)>>>0,1)}),e._animation){const t=o[e._selector];t.splice(t.indexOf(e)>>>0,1),t.length||(document.removeEventListener("animationstart",t.onanim),delete o[e._selector],t.rules&&t.rules.forEach(e=>{let t=[].indexOf.call(c.sheet.cssRules,e);~t&&c.sheet.deleteRule(t)}))}e._channel[Symbol.dispose]();let t=[...e];e.length=0,t.forEach(t=>e.delete(t,!0))}}const d=(e,t,s)=>{t&&e&&[].forEach.call(e.nodeType?[e]:e,e=>t.forEach(t=>Object.getPrototypeOf(t).add.call(t,e,s)))},f=e=>[e.classList.contains("üëÅ")?e:null,...e.getElementsByClassName("üëÅ")].forEach(e=>r.has(e)&&r.get(e).forEach(t=>t.delete(e)));new MutationObserver(e=>{for(let t of e){let{addedNodes:e,removedNodes:r,target:c}=t;if(!a){f(c);for(let e in o)d([c,...c.querySelectorAll(e)],o[e],!0)}r.forEach(e=>1===e.nodeType&&f(e)),e.forEach(e=>{if(1===e.nodeType){if(e.id&&(d(e,s[e.id]),e.getElementById))for(let t in s)d(e.getElementById(t),s[t]);if(e.name){d(e,l[e.name]);for(let t in l)d(e.getElementsByName(t),l[t])}if(e.className){e.classList.forEach(t=>d(e,n[t]));for(let t in n)d(e.getElementsByClassName(t),n[t])}d(e,i[e.tagName]);for(let t in i)d(e.getElementsByTagName(t),i[t])}})}}).observe(document,{childList:!0,subtree:!0,attributes:!a});var p=function(e,t,s,n){var i;t[0]=0;for(var l=1;l<t.length;l++){var o=t[l++],r=t[l]?(t[0]|=o?1:2,s[t[l++]]):t[++l];3===o?n[0]=r:4===o?n[1]=Object.assign(n[1]||{},r):5===o?(n[1]=n[1]||{})[t[++l]]=r:6===o?n[1][t[++l]]+=r+"":o?(i=e.apply(r,p(e,r,s,["",null])),n.push(i),r[0]?t[0]|=2:(t[l-2]=0,t[l]=i)):n.push(r)}return n},m=new Map;function y(e){var t=m.get(this);return t||(t=new Map,m.set(this,t)),(t=p(this,t.get(e)||(t.set(e,t=function(e){for(var t,s,n=1,i="",l="",o=[0],r=function(e){1===n&&(e||(i=i.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?o.push(0,e,i):3===n&&(e||i)?(o.push(3,e,i),n=2):2===n&&"..."===i&&e?o.push(4,e,0):2===n&&i&&!e?o.push(5,0,!0,i):n>=5&&((i||!e&&5===n)&&(o.push(n,0,i,s),n=6),e&&(o.push(n,e,0,s),n=6)),i=""},a=0;a<e.length;a++){a&&(1===n&&r(),r(a));for(var c=0;c<e[a].length;c++)t=e[a][c],1===n?"<"===t?(r(),o=[o],n=3):i+=t:4===n?"--"===i&&">"===t?(n=1,i=""):i=t+i[0]:l?t===l?l="":i+=t:'"'===t||"'"===t?l=t:">"===t?(r(),n=1):n&&("="===t?(n=5,s=i,i=""):"/"===t&&(n<5||">"===e[a][c+1])?(r(),3===n&&(o=o[0]),n=o,(o=o[0]).push(2,0,n),n=0):" "===t||"\t"===t||"\n"===t||"\r"===t?(r(),n=2):i+=t),3===n&&"!--"===i&&(n=4,o=o[0])}return r(),o}(e)),t),arguments,[])).length>1?t:t[0]}Symbol.observable||(Symbol.observable=Symbol("observable")),Symbol.dispose||(Symbol.dispose=Symbol("dispose"));const b=new WeakSet,g=Symbol("cleanup"),_=Symbol("static"),v={init:!1},S=function(e,t,...s){const n=this.init;if("string"==typeof e){if(/#|\./.test(e)){let s,n;[e,s]=e.split("#"),s?[s,...n]=s.split("."):[e,...n]=e.split("."),(s||n.length)&&(t=t||{},s&&(t.id=s),n.length&&(t.class=n))}if(e=document.createElement(e),n){e[_]=!0;for(let s in t)$(e,s,t[s]);return e.append(...x(s)),e}}else{if(n)return;if("function"==typeof e){if(e=e({children:s,...t}),Array.isArray(e)){let t=document.createDocumentFragment();t.append(...e),e=t}return e}e[Symbol.dispose]&&e[Symbol.dispose]()}let i,l,o,r=[];for(let s in t){let n=t[s];if("string"==typeof n&&(n=n.replace(/false|null|undefined/g,"")),P(n))$(e,s,n);else if(L(n))r.push(O(n,t=>$(e,s,t)));else if("style"===s)for(let t in n){let s=n[t];if(L(s))r.push(O(s,s=>e.style.setProperty(t,s)));else{let n=s.match(/(.*)\W+!important\W*$/);n?e.style.setProperty(t,n[1],"important"):e.style.setProperty(t,s)}}else $(e,s,n)}for(l=0;l<s.length;l++)(o=s[l])&&(o[_]?s[l]=o.cloneNode(!0):L(o)&&(r.push((i||(i=[]))[l]=o),o=document.createTextNode("")));e.childNodes.length?N(e,e.childNodes,x(s)):e.append(...x(s));i&&i.map((t,n)=>O(t,t=>(s[n]=t,N(e,e.childNodes,x(s)))));r.length&&(e[g]=r);return e[Symbol.dispose]=E,e}.bind(v);function w(e){if(!Array.isArray(e))return S(...arguments);let t,s=1;for(b.has(e)||(s++,b.add(e));s--;)v.init=!!s,t=y.apply(S,s?[e]:arguments);return P(t)?document.createTextNode(null==t?"":t):Array.isArray(t)?S(document.createDocumentFragment(),null,...t):t[_]?t.cloneNode(!0):t}function E(){if(this[g])for(let e of this[g])e();this[g]=null}const x=e=>{let t,s=[],n=0;for(;n<e.length;)if(null!=(t=e[n++]))if(P(t)||t.nodeType)s.push(t);else if(t[Symbol.iterator])for(t of t)s.push(t);return s};function O(e,t){let s,n;return e[Symbol.observable]?s=e[Symbol.observable]().subscribe({next:t}):e[Symbol.asyncIterator]?(s=()=>n=!0,(async()=>{for await(e of e){if(n)break;t(e)}})()):e.then?e.then(t):"function"==typeof e&&e.set&&(s=e(t)),s}const A=(e,t)=>e===t||e&&t&&3===e.nodeType&&3===t.nodeType&&e.data===t.data,N=(e,t,s,n=null)=>{let i,l,o,r=0,a=s.length,c=t.length;for(;r<a&&r<c&&A(t[r],s[r]);)r++;for(;r<a&&r<c&&A(s[a-1],t[c-1]);)n=s[(--c,--a)];if(r==c)for(;r<a;)T(e,s[r++],n);else{for(i=t[r];r<a;)o=s[r++],l=i?i.nextSibling:n,A(i,o)?i=l:r<a&&A(s[r],l)?(j(e,i,o),i=l):T(e,o,i);for(;i!=n;)l=i.nextSibling,e.removeChild(i),i=l}return s},T=(e,t,s)=>{null!=t&&(P(t)?e.insertBefore(document.createTextNode(t),s):e.insertBefore(t,s))},j=(e,t,s,n)=>{null!=s&&(P(s)?3===t.nodeType?t.data=s:t.replaceWith(s):s.nodeType?e.replaceChild(s,t):N(e,[t],s,n))},$=(e,t,s,n)=>(e[t]!==s&&(!(t in e.constructor.prototype)||!(n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t))||n.set)&&(e[t]=s),!1===s||null==s?e.removeAttribute(t):"function"!=typeof s&&e.setAttribute(t,!0===s?"":"number"==typeof s||"string"==typeof s?s:"class"===t&&Array.isArray(s)?s.filter(Boolean).join(" "):"style"===t&&s.constructor===Object?(t=s,s=Object.values(s),Object.keys(t).map((e,t)=>`${e}: ${s[t]};`).join(" ")):"")),P=e=>!e||"string"==typeof e||"boolean"==typeof e||"number"==typeof e||("object"==typeof e?e instanceof RegExp||e instanceof Date:"function"!=typeof e),L=e=>!P(e)&&!!(e[Symbol.observable]||e[Symbol.asyncIterator]||"function"==typeof e&&e.set||e.next||e.then);export default h;export{h as $,w as h,e as v};